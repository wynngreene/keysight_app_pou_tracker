<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PoU Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- CSS -->
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <h1>PoU Tracker</h1>

  <main>
    <!-- =======================
         3 ROLE CARDS
         ======================= -->
    <div class="container">

      <!-- CARD 1: PoU REQUEST (Main User) -->
      <div class="card">
        <h3>PoU Request (Main User)</h3>
        <p class="small-text">Operators request additional or replacement parts here.</p>

        <form id="pouForm" autocomplete="off">
          <label for="employeeName">Employee Name:</label>
          <select id="employeeName" required>
            <option value="" disabled selected>Select Employee</option>
            <!-- Example options; edit as needed -->
            <option value="Eden">Eden</option>
            <option value="Nikki">Nikki</option>
            <option value="Operator A">Operator A</option>
          </select>

          <label for="jobNumber">Job Number:</label>
          <input type="text" id="jobNumber" required>

          <!-- Inline Parts Needed -->
          <label>Parts Needed:</label>
          <div class="inline-row">
            <input type="text" id="partNumberInput" placeholder="Part Number">
            <input type="number" id="quantityInput" placeholder="Qty" min="1">
            <button type="button" id="addPartBtn">Add</button>
          </div>

          <!-- List of parts added to this request -->
          <ul id="partsList" class="small-text" style="margin-top:10px; padding-left:18px;"></ul>

          <label for="notes">Notes (max 100 chars):</label>
          <input type="text" id="notes" maxlength="100" placeholder="Reason, defect, etc.">

          <label for="datePulled">Date Pulled:</label>
          <div class="inline-row">
            <button type="button" id="todayBtn" style="flex:0 0 auto;">Today</button>
            <input type="date" id="datePulled" required>
          </div>

          <input type="submit" value="Submit PoU Request">
        </form>
      </div>

      <!-- CARD 2: STOCKROOM FULFILLMENT -->
      <div class="card">
        <h3>Stockroom Fulfillment</h3>
        <p class="small-text">Stockroom records inventory counts and adjustments.</p>

        <label for="requestSelect">Select PoU Request:</label>
        <select id="requestSelect">
          <option value="" disabled selected>Select a request</option>
        </select>

        <div id="requestSummary"></div>

        <form id="stockroomForm" autocomplete="off">
          <label for="inventoryCount">Inventory Count (at time):</label>
          <input type="number" id="inventoryCount" min="0">

          <label for="adjustCount">Adjust Count (if needed):</label>
          <input type="number" id="adjustCount">

          <label for="stockroomInitials">Stockroom Initials:</label>
          <input type="text" id="stockroomInitials" maxlength="5" required>

          <input type="submit" value="Mark as Fulfilled">
        </form>
      </div>

      <!-- CARD 3: ADMIN TOOLS -->
      <div class="card">
        <h3>Admin Tools</h3>
        <p class="small-text">Admins can view high-level stats and export logs.</p>

        <div class="export-buttons">
          <button id="exportCsvBtn">Export CSV</button>
        </div>

        <div id="adminStats" class="small-text"></div>
      </div>
    </div>

    <!-- =======================
         RECORDS TABLE (Bottom)
         ======================= -->
    <div class="records-card">
      <h3>PoU Records (All Requests)</h3>
      <table id="recordsTable">
        <thead>
          <tr>
            <th>#</th>
            <th>Employee</th>
            <th>Job</th>
            <th>Parts</th>
            <th>Date Pulled</th>
            <th>Time Requested</th>
            <th>Notes</th>
            <th>Inventory Count</th>
            <th>Adjust</th>
            <th>Initials</th>
            <th>Status</th>
            <th>Fulfilled Time</th>
          </tr>
        </thead>
        <tbody id="recordsTbody"></tbody>
      </table>
    </div>
  </main>

  <!-- JS -->
  <script src="script.js"></script>
</body>
</html>
